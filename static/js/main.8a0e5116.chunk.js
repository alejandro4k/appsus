(this.webpackJsonpappsus=this.webpackJsonpappsus||[]).push([[0],{19:function(e,t,a){e.exports=a(50)},24:function(e,t,a){},25:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},26:function(e,t,a){},27:function(e,t,a){},45:function(e,t,a){},46:function(e,t,a){},47:function(e,t,a){},48:function(e,t,a){},50:function(e,t,a){"use strict";a.r(t);var r,o,n,c,l,i=a(0),s=a.n(i),m=a(18),u=a.n(m),d=(a(24),a(25),a(26),a(3)),p=a(4),g=a(6),E=a(5),h=a(8),f=a(7),v=(a(27),a(1)),b=a.n(v),y=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(g.a)(this,Object(E.a)(t).call(this,e))).state={register:0,userloged:!1},a}return Object(f.a)(t,e),Object(p.a)(t,[{key:"showRegister",value:function(e){e.preventDefault(),this.setState({register:1})}},{key:"Register",value:function(e){var t=this;if(e.preventDefault(),this.validarFormulario("formRegister")){var a=document.getElementById("userInput").value,r=document.getElementById("userPass").value;if(r==document.getElementById("userPass2").value){var o=new FormData;o.append("username",a),o.append("pass",r),b.a.post("https://thawing-ocean-79982.herokuapp.com/Main/createUser",o).then((function(e){console.log(e.data),e.data.status?(localStorage.setItem("id_user",e.data.id_usuario),t.props.userLogin(1,!0)):alert(e.data.msg)}))}else alert("las contrase\xf1as no coinciden")}}},{key:"validarFormulario",value:function(e){var t=document.getElementById(e);if(t.checkValidity())return!0;t.reportValidity()}},{key:"Login",value:function(e){var t=this;e.preventDefault();var a=document.getElementById("userInput").value,r=document.getElementById("userPass").value,o=new FormData;o.append("user",a),o.append("pass",r),b.a.post("https://thawing-ocean-79982.herokuapp.com/Main/Validate",o).then((function(e){console.log(e.data),1==e.data.status?(localStorage.setItem("id_user",e.data.id_usuario),t.props.userLogin(1,!0)):alert(t.data.msg)}))}},{key:"render",value:function(){var e=this;return r=1==this.state.register?s.a.createElement("form",{id:"formRegister"},s.a.createElement("div",{className:"form-group"},s.a.createElement("div",{className:"input-group"},s.a.createElement("div",{className:"input-group-prepend"},s.a.createElement("span",{className:"input-group-text"}," ",s.a.createElement("i",{className:"fa fa-user"})," ")),s.a.createElement("input",{name:"",id:"userInput",className:"form-control",placeholder:"user",type:"text",required:!0}))),s.a.createElement("div",{className:"form-group"},s.a.createElement("div",{className:"input-group"},s.a.createElement("div",{className:"input-group-prepend"},s.a.createElement("span",{className:"input-group-text"}," ",s.a.createElement("i",{className:"fa fa-lock"})," ")),s.a.createElement("input",{className:"form-control",id:"userPass",placeholder:"Contrase\xf1a",type:"password",required:!0}))),s.a.createElement("div",{className:"form-group"},s.a.createElement("div",{className:"input-group"},s.a.createElement("div",{className:"input-group-prepend"},s.a.createElement("span",{className:"input-group-text"}," ",s.a.createElement("i",{className:"fa fa-lock"})," ")),s.a.createElement("input",{className:"form-control",id:"userPass2",placeholder:"confirmar contrase\xf1a",type:"password",required:!0}))),s.a.createElement("div",{className:"form-group"},s.a.createElement("button",{id:"btnRegister",onClick:function(t){return e.Register(t)},className:"btn btn-primary btn-block"}," ","Guardar"," "))):s.a.createElement("form",null,s.a.createElement("div",{className:"form-group"},s.a.createElement("div",{className:"input-group"},s.a.createElement("div",{className:"input-group-prepend"},s.a.createElement("span",{className:"input-group-text"}," ",s.a.createElement("i",{className:"fa fa-user"})," ")),s.a.createElement("input",{name:"",id:"userInput",className:"form-control",placeholder:"user",type:"email"}))),s.a.createElement("div",{className:"form-group"},s.a.createElement("div",{className:"input-group"},s.a.createElement("div",{className:"input-group-prepend"},s.a.createElement("span",{className:"input-group-text"}," ",s.a.createElement("i",{className:"fa fa-lock"})," ")),s.a.createElement("input",{className:"form-control",id:"userPass",placeholder:"******",type:"password"}))),s.a.createElement("div",{className:"form-group"},s.a.createElement("button",{id:"btnLogin",onClick:function(t){return e.Login(t)},className:"btn btn-primary btn-block"}," ","Login"," ")),s.a.createElement("p",{className:"text-center"},s.a.createElement("a",{href:"#",className:"btn",onClick:function(t){return e.showRegister(t)}},"Crear Usuario"))),s.a.createElement("div",{className:"logincontainer"},s.a.createElement("div",{className:"centerVertical col-sm-4"},s.a.createElement("div",{className:"card"},s.a.createElement("article",{className:"card-body"},s.a.createElement("img",{className:"figure-img img-fluid rounded",src:"https://media.licdn.com/dms/image/C4E0BAQFXLeb3Mn-igA/company-logo_200_200/0?e=2159024400&v=beta&t=g8_6yUaBNMMrXeCzPkWaFBK6P-Gfaf22StuYqR0_0v0"}),s.a.createElement("h4",{className:"card-title text-center mb-4 mt-1"},"Sign in"),s.a.createElement("hr",null),s.a.createElement("p",{className:"text-success text-center"},"Some message goes here"),r))))}}]),t}(i.Component),N=(a(45),a(46),function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(g.a)(this,Object(E.a)(t).call(this,e))).state={categorias:[]},a}return Object(f.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=localStorage.getItem("id_user"),a=new FormData;a.append("id_user",t),b.a.post("https://thawing-ocean-79982.herokuapp.com/Main/listarCategorias",a).then((function(t){e.setState({categorias:t.data}),e.props.setStateCateg(e.state.categorias)}))}},{key:"limpiar",value:function(){document.getElementById("producto").value="",document.getElementById("stock").value="",document.getElementById("precio").value=""}},{key:"validarFormulario",value:function(e){var t=document.getElementById(e);if(t.checkValidity())return!0;t.reportValidity()}},{key:"saveProducto",value:function(e){var t=this;if(e.preventDefault(),this.validarFormulario("formAdd")){var a=localStorage.getItem("id_user"),r=document.getElementById("Categoria").value,o=document.getElementById("producto").value,n=document.getElementById("stock").value,c=document.getElementById("precio").value,l=new FormData;l.append("user",a),l.append("producto",o),l.append("stock",n),l.append("precio",c),l.append("categoria",r),b.a.post("https://thawing-ocean-79982.herokuapp.com/Main/addProducto",l).then((function(e){!0===e.data?(alert("Producto agregado exitosamente."),t.limpiar()):alert("error al agregar el producto.")}))}}},{key:"render",value:function(){var e=this;return this.state.categorias?o=this.state.categorias.map((function(e){return s.a.createElement("option",{value:e.id_categorias},e.nombre_categoria)})):(document.getElementById("btnAgregarProd").disabled=!0,o=s.a.createElement("option",{value:"00"},"No hay categorias")),s.a.createElement("form",{className:"containerForm",id:"formAdd"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"Categoria"},"Categoria"),s.a.createElement("select",{className:"form-control",id:"Categoria",required:!0},o)),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"producto"},"Producto"),s.a.createElement("input",{type:"text",className:"form-control",id:"producto",placeholder:"telefono,computador,etc",required:!0})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"stock"},"Stock"),s.a.createElement("input",{type:"number",className:"form-control",id:"stock",placeholder:"10",required:!0})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"precio"},"Precio"),s.a.createElement("input",{type:"number",className:"form-control",id:"precio",placeholder:"10",required:!0})),s.a.createElement("button",{type:"button",id:"btnAgregarProd",onClick:function(t){return e.saveProducto(t)},className:"btn btn-primary"},"Agregar"))}}]),t}(i.Component)),k=(a(47),function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(g.a)(this,Object(E.a)(t).call(this,e))).state={},a}return Object(f.a)(t,e),Object(p.a)(t,[{key:"limpiar",value:function(){document.getElementById("nombreCategoria").value=""}},{key:"saveData",value:function(e){e.preventDefault();var t=document.getElementById("nombreCategoria").value,a=localStorage.getItem("id_user"),r=new FormData;r.append("id_user",a),r.append("categoria",t),b.a.post("https://thawing-ocean-79982.herokuapp.com/Main/addCategoria",r).then((function(e){console.log(e.data),!0===e.data&&alert("Categoria agregada exitosamente.")}))}},{key:"render",value:function(){var e=this;return s.a.createElement("form",{className:"containerForm"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{for:"exampleFormControlInput1"},"Nombre Categoria"),s.a.createElement("input",{type:"text",className:"form-control",id:"nombreCategoria",placeholder:"Telefonos,Ropa"})),s.a.createElement("button",{type:"button",id:"btnAgregarCat",onClick:function(t){return e.saveData(t)},class:"btn btn-primary"},"Agregar"))}}]),t}(i.Component)),C=(a(48),a(49),function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(g.a)(this,Object(E.a)(t).call(this,e))).state={productos:[],categorias:[],id_producto:0},a}return Object(f.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=localStorage.getItem("id_user"),a=new FormData;a.append("id_usuario",t),b.a.post("https://thawing-ocean-79982.herokuapp.com/Main/listarProductos",a).then((function(t){console.log(t.data),!1!==t.data&&e.setState({productos:t.data})})),this.setState({categorias:this.props.categorias}),console.log(this.state.categorias)}},{key:"deleteProducto",value:function(e){var t=this;if(window.confirm("estas seguro de eliminar este producto?")){var a=new FormData;a.append("id_producto",e),b.a.post("https://thawing-ocean-79982.herokuapp.com/Main/deleteProducto",a).then((function(e){if(!0===e.data){var a=new FormData,r=localStorage.getItem("id_user");a.append("id_usuario",r),b.a.post("https://thawing-ocean-79982.herokuapp.com/Main/listarProductos",a).then((function(e){!1!==e.data?t.setState({productos:e.data}):t.setState({productos:[]})})),alert("producto eliminado.")}else alert("error a eliminar le producto")}))}}},{key:"passInfo",value:function(e,t,a,r,o){document.getElementById("Categoria").value=r,document.getElementById("producto").value=t,document.getElementById("stock").value=a,document.getElementById("precio").value=o,this.setState({id_producto:e})}},{key:"updateData",value:function(){var e=new FormData;e.append("id_producto",this.state.id_producto),e.append("id_categoria",document.getElementById("Categoria").value),e.append("nombre",document.getElementById("producto").value),e.append("precio",document.getElementById("precio").value),e.append("stock",document.getElementById("stock").value),b.a.post("https://thawing-ocean-79982.herokuapp.com/Main/updateProducto",e).then((function(e){if(!0===e.data){alert("producto actualizado."),function(e,t){if(e.fireEvent)e.fireEvent("on"+t);else{var a=document.createEvent("Events");a.initEvent(t,!0,!1),e.dispatchEvent(a)}}(document.getElementById("btnCloseModal"),"click")}else alert("error al actualizar producto.")}))}},{key:"render",value:function(){var e=this;return c=null!=this.state.categorias?this.state.categorias.map((function(e){return s.a.createElement("option",{value:e.id_categorias},e.nombre_categoria)})):s.a.createElement("option",{disabled:!0},"No hay categorias"),n=null!=this.state.productos?this.state.productos.map((function(t){return s.a.createElement("tr",null,s.a.createElement("th",{scope:"row"},t.nombre),s.a.createElement("td",null,t.nombre_categoria),s.a.createElement("td",null,t.stock),s.a.createElement("td",null,t.precio),s.a.createElement("td",null,s.a.createElement("span",{className:"action",onClick:function(){return e.deleteProducto(t.id_producto)}},"Eliminar"),s.a.createElement("span",{className:"action","data-toggle":"modal","data-target":"#staticBackdrop",onClick:function(){return e.passInfo(t.id_producto,t.nombre,t.stock,t.id_categoria,t.precio)}},"Actualizar")))})):s.a.createElement("h1",null,"No hay productos agregados."),s.a.createElement("div",{className:"listaProductos container"},s.a.createElement("table",{className:"table"},s.a.createElement("thead",{className:"thead-dark"},s.a.createElement("tr",null,s.a.createElement("th",{scope:"col"},"Producto"),s.a.createElement("th",{scope:"col"},"Categoria"),s.a.createElement("th",{scope:"col"},"Stock"),s.a.createElement("th",{scope:"col"},"Precio"),s.a.createElement("th",{scope:"col"},"Acciones"))),s.a.createElement("tbody",null,n)),s.a.createElement("div",{class:"modal fade",id:"staticBackdrop","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},s.a.createElement("div",{class:"modal-dialog",role:"document"},s.a.createElement("div",{class:"modal-content"},s.a.createElement("div",{class:"modal-header"},s.a.createElement("h5",{class:"modal-title",id:"staticBackdropLabel"},"Actualizar Producto"),s.a.createElement("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},s.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),s.a.createElement("div",{class:"modal-body"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"Categoria"},"Categoria"),s.a.createElement("select",{className:"form-control",id:"Categoria"},c)),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"producto"},"Producto"),s.a.createElement("input",{type:"text",className:"form-control",id:"producto",placeholder:"telefono,computador,etc"})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"stock"},"Stock"),s.a.createElement("input",{type:"number",className:"form-control",id:"stock",placeholder:"10"})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"precio"},"Precio"),s.a.createElement("input",{type:"number",className:"form-control",id:"precio",placeholder:"10"}))),s.a.createElement("div",{class:"modal-footer"},s.a.createElement("button",{id:"btnCloseModal",type:"button",class:"btn btn-secondary","data-dismiss":"modal"},"Close"),s.a.createElement("button",{type:"button",class:"btn btn-primary",onClick:function(){return e.updateData()}},"Guardar"))))))}}]),t}(i.Component)),w=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(g.a)(this,Object(E.a)(t).call(this,e))).state={register:0,userloged:!1,comp:1,categoriasprop:[]},a}return Object(f.a)(t,e),Object(p.a)(t,[{key:"getCategorias",value:function(e){this.setState({categoriasprop:e})}},{key:"changeComponent",value:function(e,t){e.preventDefault(),this.setState({comp:t})}},{key:"logOut",value:function(){localStorage.removeItem("id_user"),window.location.reload()}},{key:"render",value:function(){var e=this;return l=1===this.state.comp?s.a.createElement(N,{setStateCateg:this.getCategorias.bind(this)}):2===this.state.comp?s.a.createElement(k,null):s.a.createElement(C,{categorias:this.state.categoriasprop}),s.a.createElement("div",{className:"Menu"},s.a.createElement("div",{className:"d-flex",id:"wrapper"},s.a.createElement("div",{className:"bg-light border-right",id:"sidebar-wrapper"},s.a.createElement("div",{className:"sidebar-heading"},"Appsus"),s.a.createElement("div",{className:"list-group list-group-flush"},s.a.createElement("a",{href:"#",className:"list-group-item list-group-item-action bg-light",onClick:function(t){return e.changeComponent(t,1)}},"Agregar Productos"),s.a.createElement("a",{href:"#",className:"list-group-item list-group-item-action bg-light",onClick:function(t){return e.changeComponent(t,2)}},"Agregar Categoria"),s.a.createElement("a",{href:"#",className:"list-group-item list-group-item-action bg-light",onClick:function(t){return e.changeComponent(t,3)}},"Listar Productos"),s.a.createElement("a",{href:"#",className:"list-group-item list-group-item-action bg-light",onClick:function(t){return e.logOut(t)}},"Cerrar Sesion"))),s.a.createElement("div",{id:"page-content-wrapper"},s.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light bg-light border-bottom"},s.a.createElement("button",{className:"btn btn-primary",id:"menu-toggle"},"Toggle Menu"),s.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},s.a.createElement("span",{className:"navbar-toggler-icon"}))),s.a.createElement("div",{className:"container-fluid"},l))))}}]),t}(i.Component),I=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(g.a)(this,Object(E.a)(t).call(this,e))).showComponent=function(){switch(a.state.changeCompt){case 0:return s.a.createElement(y,{userLogin:a.userLoged.bind(Object(h.a)(a))});case 1:return s.a.createElement(w,{userLogin:a.userLoged.bind(Object(h.a)(a)),optionsCategorias:a.state.categorias})}},a.state={changeCompt:0,login:!1,id_user:0},a}return Object(f.a)(t,e),Object(p.a)(t,[{key:"userLoged",value:function(e,t){this.setState({changeCompt:e,login:t})}},{key:"render",value:function(){return s.a.createElement("div",{className:"mainComponent"},this.showComponent())}}]),t}(i.Component);var B=function(){return s.a.createElement("div",{className:"App"},s.a.createElement(I,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));u.a.render(s.a.createElement(B,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[19,1,2]]]);
//# sourceMappingURL=main.8a0e5116.chunk.js.map